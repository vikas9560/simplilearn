<div class="container my-5">
  <div class="quizHeader">
    <div class="card">

      <div class="d-flex justify-content-between p-4 bg-light rounded-top align-items-center">
        <div class="logoIcon">
          <img [src]="logoUrl" width="50" height="50">
        </div>
        <div class="quizTitle">
          <h2>Angular and Typscript Quiz!!</h2>
          <span>Welcome to <strong>{{yname}}</strong></span>
        </div>
      </div>

      <ng-container *ngIf="!isQuizCompleted">
        <div class="d-flex justify-content-between p-4">
          <div class="testScore">
            <h3>{{points}} Points</h3>
          </div>
          <div class="testQueRemain f-italic">
            Question {{currentQuestion+1}} of {{qustionList.length}}
          </div>
          <div class="testTimer">
            <h3>{{counter}} Sec</h3>
          </div>
        </div>

        <div class="progress mx-4">
          <div class="progress-bar progress-bar-striped bg-success" [ngStyle]="{'width': progress + '%'}" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
        </div>

        <div class="queOption p-4 border-top mt-4">
          <div class="question mb-4">
            <div class="card py-2 px-3">
              <h4 class="fw-bold">{{qustionList[currentQuestion]?.question}}</h4>
            </div>
          </div>
          <ol class="AnsOption m-0 p-0 list-unstyled">
            <li *ngFor="let option of qustionList[currentQuestion]?.options" (click)="answer(currentQuestion+1,option)">
              <div appChangeBg [isCorrect]="option.correct" class="card px-3 py-2">
                {{option.ans}}
              </div>
            </li>
          </ol>
        </div>

        <div class="d-flex justify-content-between p-4 bg-light rounded-bottom border-top">
          <button [disabled]="currentQuestion===0" (click)="previousQuestion()" class="btn fs-2 btn-primary py-1 px-3"><i class="bi bi-chevron-left"></i></button>
          <button (click)="resetQuiz()" class="btn fs-2 btn-primary py-1 px-3"><i class="bi bi-arrow-repeat"></i></button>
          <button [disabled]="currentQuestion===qustionList.length-1" (click)="nextQuestion()" class="btn fs-2 btn-primary py-1 px-3"><i class="bi bi-chevron-right"></i></button>
        </div>
      </ng-container>

      <ng-container *ngIf="isQuizCompleted">
        <div class="row justify-content-between p-4">
          <img class="col-md-6" src="https://i.etsystatic.com/13896178/r/il/c4377e/3195823985/il_570xN.3195823985_a1uw.jpg" alt="Congratulation">
          <div class="result col-md-6 text-center py-5">
            <h3 class="mb-4">Congratulation!!<br>You have completed the quiz.<br>Please check below for your result</h3>
            <p><strong>Total Question Attempted :</strong> {{qustionList.length}}</p>
            <p><strong>Total Correct Answer :</strong> {{correctAnswer}}</p>
            <p><strong>Total Wrong Answer :</strong> {{incorrectAnswer}}</p>
            <p><strong>Your Score :</strong> {{points}} Points</p>
          </div>
        </div>
      </ng-container>

    </div>
  </div>
</div>
